## クリーンアーキテクチャ

### 目的

- 保守性やテスト容易性や変更体制や再利用性を高める

### 基本思想

1. 依存関係のルール
    - 内側のレイヤーは、外側のレイヤーに依存してはいけない
    - 依存関係は常に内側（ビジネスルール）に向かって一方向
2. 境界が明確な責任分離
    - 各レイヤーが異なる責任を持ち、責任が混在しない

## 各レイヤーの役割や責任（フロントエンド除く）

| レイヤー名                     | ディレクトリ名                                                                             | 役割・責任                                      | 依存対象（内側）                   | 依存される対象（外側）                       |
| ------------------------- | ----------------------------------------------------------------------------------- | ------------------------------------------ | -------------------------- | --------------------------------- |
| **Entity（エンティティ）**        | `domain/`                                                                           | ・ビジネスルールの核<br>・ドメインオブジェクト（例：User, Order）   | なし（最内層）                    | UseCase                           |
| **Interface（インターフェース定義）** | `domain/repository/`<br>`domain/interface/`<br>`domain/port/`<br>`application/port` | ・抽象的な契約（必要な機能を定義）<br>・エンティティを登録／取得するメソッド   | Entity（インターフェースの引数や戻り値で使用） | Interface Adapter（リポジトリ実装）        |
| **UseCase（ユースケース）**       | `service/`                                                                          | ・アプリ固有の業務処理を実行<br>・エンティティを活用               | Entity（ドメインモデル）            | Interface Adapter（コントローラ／リポジトリ実装） |
| **Interface Adapter**     | `handler/`<br>`repository/`<br>`router/`                                            | ・外部入出力の橋渡し、DTO変換<br>・リポジトリ実装、コントローラ、プレゼンター | UseCase のインターフェース（ポート）     | Framework（Webサーバ、ORM など）          |
| **Framework & Driver**    | `main.go`<br>`config/`<br>`chaincode/`                                              | ・技術詳細に依存する層<br>・Webフレームワーク、ORM、DB、外部API など | Interface Adapter          | なし（最外層）                           |



- 依存関係
    - Framework → Interface Adapter → UseCase → Entity
